$(document).ready(function(){var store="",ans="",equalWasClicked=!1,dotWasClicked=!1,operatorWasClicked=!1;$(".ac").on("click",function(){dotWasClicked=!1,$(".output").empty(),store="",$(".store").empty().append(store)}),$(".c").on("click",function(){dotWasClicked=!1,""!==store&&(store=store.slice(0,-$(".output").text().length)),$(".output").empty(),$(".store").empty().append(store)}),$(".nums").on("click",function(){operatorWasClicked=!1;var value=$(this).text();equalWasClicked&&($(".output").empty(),equalWasClicked=!1),""!==ans&&$(".output").text()===ans.toString()||(store+=value,$(".output").append(value)),$(".store").empty().append(store)}),$(".operators").on("click",function(){dotWasClicked=!1;var value=$(this).text();$(".output").is(":empty")===!1?""===store||operatorWasClicked||("-"===$(".output").text().slice(0,1)&&(store+=")"),store+=value,$(".output").empty(),operatorWasClicked=!0):$(this).hasClass("minus")===!0&&(store+="("+value,$(".output").append(value)),$(".store").empty().append(store)}),$(".ans").on("click",function(){dotWasClicked=!1,(""!==ans&&$(".output").is(":empty")||equalWasClicked===!0)&&(operatorWasClicked=!1,equalWasClicked=!1,"-"===ans.toString().slice(0,1)&&(ans="("+ans+")"),$(".output").empty().append(ans),store+=ans,ans.toString().includes(".")&&(dotWasClicked=!0),console.log(ans.toString().includes("."))),$(".store").empty().append(store)}),$(".dot").on("click",function(){var value=$(this).text();""!==store&&dotWasClicked===!1&&")"!==$(".output").text().slice(-1)&&(store+=value,$(".output").append(value),operatorWasClicked=!0,dotWasClicked=!0),$(".store").empty().append(store)}),$(".equal").on("click",function(){operatorWasClicked=!1,dotWasClicked=!1;for(var lastChar=store.slice(-1),syms=["*","/","+","-","%"],notEq=!1,i=0;i<syms.length;i++)lastChar===syms[i]&&(notEq=!0);notEq&&(store=store.slice(0,-1)),"-"===$(".output").text().slice(0,1)&&$(".output").text()!==ans.toString()&&(store+=")"),equalWasClicked===!1&&("Infinity"===eval(store).toString()?$(".output").empty().append("NaN"):$(".output").empty().append(eval(store).toString()),ans=eval(store),store="",equalWasClicked=!0,$(".ans").trigger("click")),$(".store").empty().append(store)})});